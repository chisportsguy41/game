var game=function(){var t=document.getElementById("canvas"),e=t.getContext("2d"),n=(t.getBoundingClientRect(),"right"),i={};return{changeDir:function(){n="right"==n?"left":"right"},player:function(){var r=0,a=setInterval(function(){e.fillStyle="#"+Math.floor(16777215*Math.random()).toString(16),r==t.width-50&&(n="left"),0==r&&(n="right"),"right"==n?(e.clearRect(r-10,450,50,50),e.fillRect(r++,450,50,50)):(e.clearRect(r+10,450,50,50),e.fillRect(r--,450,50,50));let l=r;var h=!1;for(s in i)l<i[s].x+i[s].w&&i[s].x>l&&i[s].x<l+50&&450<i[s].y+i[s].h&&500>i[s].y&&(h=!0),h&&(clearInterval(i[s].interval),clearInterval(a))},1)},evil:function(){setInterval(function(){for(var n,r="",a="abcdefghijklmnopqrstuvwxyz",l=0;l<10;l++)r+=a.charAt(Math.floor(Math.random()*a.length));i[n=r]={},i[n].y=Math.floor(Math.random()*t.width),i[n].x=0,i[n].h=10,i[n].w=10,i[n].interval=setInterval(()=>{e.fillStyle="#ffffff",e.clearRect(i[n].y,i[n].x-5,i[n].w,i[n].h),e.fillRect(i[n].y,i[n].x++,i[n].w,i[n].h),i[n].x==t.height+5&&clearInterval(i[n].interval)},10)},800)},init:function(){t.height="600",t.width="800",this.player(),this.evil()}}}();game.init(),window.addEventListener("keyup",function(){game.changeDir()});